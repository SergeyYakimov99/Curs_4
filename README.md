## Описание проекта

- **Аутентификация**
    Для того чтобы у каждого пользователя была возможность добавлять понравившиеся фильмы в закладки для просмотра позже, нам нужно их как-то разграничивать, поэтому мы организуем страницы с регистрацией и аутентификацией на основе уже изученной спецификации JWT.
    
- **Пользователи**
    У каждого пользователя будет страница с его профилем, где он сможет выбрать любимый жанр, указать имя и фамилию, а также в случае необходимости сменить пароль.
    Еще для пользователя нужно реализовать механизм добавления и удаления фильмов в/из закладок, а также просмотр всех сохраненных в закладки фильмов.
    
- **Фильмы, режиссеры, жанры**
    Конечно же, нужно добавить самые главные сущности — фильмы, режиссеры и жанры. Для них сделаем лишь возможность чтения (get-запросы).
    Для всех объектов будет работать пагинация, чтобы мы могли постранично выводить их на экран, а также можно будет посмотреть самые новые фильмы.

Модель с фильмами имеет следующие поля:

- **id** - первичный ключ
- **title**- название
- **description** - описание
- **trailer** - ссылка на трейлер
- **year** - год выпуска
- **rating** - рейтинг
- **genre_id** - id жанра
- **director_id**  - id режиссера

Модель пользователя имеет следующие поля:

- **id** - первичный ключ
- **email -** по нему будет осуществлен доступ на сайт (*уникальное*)
- **password** — не забывайте, что пароль тут будет в хешированном виде
- name - имя
- surname - фамилия
- favorite_genre - любимый жанр

### Создали DAO, сервисов и вьюхи для фильмов, жанров и режиссеров

На данном шаге мы реализуем следующие эндпоинты:

- **GET** /movies/
- **GET** /movies/{id}
- **GET** /genres/
- **GET** /genres/{id}
- **GET** /directors/
- **GET** /directors/{id}

Для тех эндпоинтов, которые возвращают несколько записей, нужно организовать пагинацию через URL-параметр page, а на страницу будет возвращать по 12 записей. Параметр page - необязательный, а значит, если он не указан - нужно вернуть все записи.
Так как мы хотим получать Новинки, для эндпонта GET /movies/ нужно еще добавить необязательный параметр status. Если он присутствует и имеет значение new — возвращаем записи в отсортированном виде (самые свежие), иначе возвращаем в том порядке, в котором они лежат в базе.
### Создание страниц авторизации

Для реализации авторизации мы написали следующие три эндпоинта:

- **POST** /auth/register — передавая  email и пароль, создаем пользователя в системе.
- **POST** /auth/login — передаем email и пароль и, если пользователь прошел аутентификацию, возвращаем пользователю ответ в виде:
    ```json
    {
       "access_token": "qwesfsdfa",
       "refresh_token": "kjhgfgjakda",
    }
    ```
- **PUT** /auth/login — принимаем пару токенов и, если они валидны, создаем пару новых.

### Работа с пользователем

Реализовали следующие эндпоинты:

- **GET** /user/ — получить информацию о пользователе (его профиль).
- **PATCH** /user/ — изменить информацию пользователя (имя, фамилия, любимый жанр).
- **PUT** /user/password — обновить пароль пользователя, для этого нужно отправить два пароля *password_1* и *password_2.*

Для того чтобы все ссылки корректно работали, их нужно обернуть в декоратор, в котором мы будет проверять переданный токен.